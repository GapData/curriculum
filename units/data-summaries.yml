title: Data summaries
tags: [wrangle]

desc: >
  Summary functions take a vector of data and return a single number. You
  Summary geoms divide the data into pieces, apply some summary and visualise
  the results. Summaries are useful when you have a lot of data (and plotting
  leads to overplotting), or when the data is noisy (and you need to make
  small but consistent patterns more clear).

  Here we apply these tools to small (in-memory) data, but they're still
  useful when you have big (out-of-memory) data. That's because a powerful
  strategy for working with big data is to make it small with some combination
  of subsetting, summarising, or sampling.

readings:
- book: r4ds-5.6.4
  desc: >
    Familiarise yourself with the summary functions that you can use
    in conjunction with `summarise()`

- book: ggplot2-3
  desc: >
    Familiarise yourself with the geoms that you can use to summarise
    data visually.

- book: r4ds-19.1
  desc: >
    Not every summary function you need already exists. Sometimes you'll
    need to combine one or more existing summaries to compute what you
    want. While you can do this inline, it will make your code easier to
    use if you use small helper functions.

- book: r4ds-19.2

- book: cheatsheets-data-wrangling
  desc: >
    The cheatsheet includes a list of the most important summary
    functions. Refer to it when you forget.

exercises:

- |
  Create a helper function to compute the coefficient of variation of a vector.
  Create a helper function to compute the proportion of missing values in
  a vector.

- |
  To understand how airline delays vary daily over the course of a year, you
  need to summarise each day with a single number. Which variable should you
  use? Compare summaries using `mean()`, `median()`, and mean(x > cutoff)`.
  How do they differ? Which do you think is best?

- |
  Perhaps it's not actually the average delay that's most important, but
  the variability in the delays. What's a good summary?

- |
  Using the summary that you think is most appropriate, explore the average
  delay by destination. Explore the distribution of your summary. Can you
  explain the location with the 5 highest and 5 lowest values?

- |
  Sometimes the number or proportion of missing values can be extremely
  informative. Compute the proportion of flights missing departure times
  for each day. Visualise the results. What do missing values represent?
  How do they vary over the course of the year? How are they related to
  delays?

supplements:
- href: https://en.wikipedia.org/wiki/Coefficient_of_variation
  text: Coefficient of variation [wikipedia]

- book: cheatsheets-ggplot2-2.1
  desc: >
    Use the ggplot2 cheatsheet to jog your memory of what's available.

- href: http://toddwschneider.com/posts/a-tale-of-twenty-two-million-citi-bikes-analyzing-the-nyc-bike-share-system/
  text: "A Tale of Twenty-Two Million Citi Bike Rides: Analyzing the NYC Bike Share System"
  desc: >
    This analysis by Todd W. Schneider uses R (along with other tools)
    to analyse over 20 million bike rides in NYC. As you read through
    the analysis think how you would do it yourself using the techniques you
    have learned so far.

- href: http://toddwschneider.com/posts/analyzing-1-1-billion-nyc-taxi-and-uber-trips-with-a-vengeance/
  text: Analyzing 1.1 Billion NYC Taxi and Uber Trips, with a Vengeance
  desc: >
    This analysis, also by Todd W. Schneider, uses much more data than
    the previous analysis. What additional challenges did Todd need to solve
    to allow him to work with this much data?
