title: Data transformations
tags: [wrangle]

desc: >
  Transformation functions take one (or more) vectors and return a transformed
  vector of the same length. They are often needed using your domain knowledge
  to re-paramerising the data can make patterns more clear.

  Transformation are important in visualisations, as sometimes you'll want
  to do a quick and dirty transformation in the call to `aes()`. However,
  another important transformation always occurs during visualisation:
  transformation from data to visual properties. This is handled by the
  scales.

readings:
- book: r4ds-5.5.1
  desc: >
    Make sure that you're familiar with the most important existing
    transformations.

- book: ggplot2-6
  desc: >


- book: cheatsheets-data-wrangling
  desc: >
    The cheatsheet includes a list of the most important transformation
    functions. Refer to it when you forget.

exercises:

- |
  Whenever your data includes a variable that could be calculated from other
  variables in your dataset, you should always recalculate it and compare.
  In the diamonds dataset, you could approximate `depth` from `x`, `y`, `z`

- |
  You could also approximate `carat` using `x`, `y`, and `z`. Start your
  approximation by assuming that diamonds are cubes and computing the volume.
  How are the volume and weight related? Can you use a better geometric
  approximation? Can you approximate `carat` using the volume and the
  density of diamond?

- |
  Log transforming `price` and `carat` makes the relationship between
  the two variables more clear (and suggests that there are a lot of missing
  expensive diamonds). There are at least three ways to perform this
  transformation. Brainstorm some approaches and briefly describe the pros
  and cons.

- |
  List all related variables in `nycflights13::flights`.  Double check
  the value of `dep_delay`. Hint: you'll find the calculation easier if you
  compute "decimal hours", i.e. `hour + minutes / 60`. Rather than copying
  and pasting this calculation in multiple places, write a helper function.
